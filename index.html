<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>××ª××˜×™×§×” ×‘××”×‘×”</title>
  <!--
    We use a single CSS file that imports all other style files.
    This approach reduces repetitive code and makes maintenance easier.
    Additional page-specific styles are loaded dynamically via JavaScript.
  -->
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <!--
    The header, search box, and sidebar menu will be loaded dynamically into these containers.
    You do not need to change these IDs. They are used by JavaScript below.
  -->
  <header id="header-placeholder"></header>
  <div id="header-search-placeholder"></div>
  <div id="side-menu"></div>
  <!--
    This is the main content area for each page.
    When you create a new page, you can insert your unique content into <main id="page-content">.
  -->
  <main id="page-content">
    <!-- Unique page content goes here -->
  </main>
  
  <!-- Footer Ğ±ÑƒĞ´ĞµÑ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½ ÑÑĞ´Ğ° -->
  <footer id="footer-placeholder"></footer>
  
  <!-- ĞÑ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ -->
  <div id="debug-info" style="position: fixed; bottom: 5px; left: 5px; background: rgba(0,0,0,0.7); color: white; padding: 5px; border-radius: 4px; font-size: 12px; z-index: 9999; display: none;">
    <div>Debug Info</div>
  </div>
</body>
<script>
  /*
    This script loads the shared header, footer and search box templates into the page.
    After loading, it loads the external JavaScript files for search and sidebar menu functionality.
    This way, every page that uses this layout will automatically have all features.
  */
  // Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ ÑˆĞ°Ğ¿ĞºÑƒ ÑĞ°Ğ¹Ñ‚Ğ°
  fetch('components/header.html')
    .then(response => response.text())
    .then(html => {
      document.getElementById('header-placeholder').innerHTML = html;
      
      // ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ÑˆĞ°Ğ¿ĞºĞ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ñ„ÑƒÑ‚ĞµÑ€
      return fetch('components/footer.html');
    })
    .then(response => response.text())
    .then(html => {
      document.getElementById('footer-placeholder').innerHTML = html;
      
      // ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ²ÑĞµÑ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹
      loadExternalScripts();
    });

  // Loads external JS files for search and sidebar menu
  function loadExternalScripts() {
    console.log('ğŸ”„ Starting to load external scripts...');
    
    // Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñƒ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑÑ‚Ğ¸Ğ»ÑĞ¼Ğ¸
    console.log('ğŸ“„ Loading styles-loader.js...');
    const stylesLoaderScript = document.createElement('script');
    stylesLoaderScript.src = 'scripts/styles-loader.js';
    stylesLoaderScript.onload = () => console.log('âœ… styles-loader.js loaded');
    stylesLoaderScript.onerror = () => console.error('âŒ styles-loader.js failed to load');
    document.body.appendChild(stylesLoaderScript);
    
    // Loads search box functionality
    console.log('ğŸ“„ Loading search.js...');
    const searchScript = document.createElement('script');
    searchScript.src = 'scripts/search.js';
    searchScript.onload = function() {
      console.log('âœ… search.js loaded');
      if (typeof initSearchScripts === 'function') {
        initSearchScripts();
      }
    };
    searchScript.onerror = () => console.error('âŒ search.js failed to load');
    document.body.appendChild(searchScript);

    // Loads sidebar menu functionality
    console.log('ğŸ“„ Loading side-menu.js...');
    const sideMenuScript = document.createElement('script');
    sideMenuScript.src = 'scripts/side-menu.js';
    sideMenuScript.onload = function() {
      console.log('âœ… side-menu.js loaded');
      if (typeof initSideMenuScripts === 'function') {
        initSideMenuScripts();
      }
    };
    sideMenuScript.onerror = () => console.error('âŒ side-menu.js failed to load');
    document.body.appendChild(sideMenuScript);
    
    // Ğ¡Ñ€Ğ°Ğ·Ñƒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚
    console.log('ğŸ“„ Loading debug.js...');
    const debugScript = document.createElement('script');
    debugScript.src = 'scripts/debug.js';
    debugScript.onload = () => console.log('âœ… debug.js loaded');
    debugScript.onerror = () => console.error('âŒ debug.js failed to load');
    document.body.appendChild(debugScript);
    
    // Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ sticky header ÑĞºÑ€Ğ¸Ğ¿Ñ‚
    console.log('ğŸ“„ Loading sticky-header.js...');
    const stickyHeaderScript = document.createElement('script');
    stickyHeaderScript.src = 'scripts/sticky-header.js';
    stickyHeaderScript.onload = () => console.log('âœ… sticky-header.js loaded');
    stickyHeaderScript.onerror = () => console.error('âŒ sticky-header.js failed to load');
    document.body.appendChild(stickyHeaderScript);
    
    // Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ±ĞµĞ· Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸
    console.log('ğŸ“„ Loading page-loader.js...');
    const pageLoaderScript = document.createElement('script');
    pageLoaderScript.src = 'scripts/page-loader.js';
    pageLoaderScript.onload = () => {
      console.log('âœ… page-loader.js loaded');
      console.log('ğŸ” Checking if pageLoader exists:', typeof window.pageLoader);
    };
    pageLoaderScript.onerror = () => console.error('âŒ page-loader.js failed to load');
    document.body.appendChild(pageLoaderScript);
  }
</script>
</html>
